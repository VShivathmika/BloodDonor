<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BloodLife - Blood Donation Management System</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; background:#fff; }
.navbar { background-color:#b71c1c !important; box-shadow:0 2px 10px rgba(0,0,0,0.2);}
.navbar-brand { display:flex; align-items:center; font-weight:700; color:white !important; font-size:1.5rem;}
.navbar-brand img { width:40px; height:40px; margin-right:10px; filter: drop-shadow(0 0 3px rgba(255,255,255,0.7)); animation:pulse 2s infinite;}
@keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.1);} }
.navbar-nav .nav-link { color:white !important; font-weight:500; transition:0.3s;}
.navbar-nav .nav-link:hover { color:#ffe6e6 !important; transform:scale(1.05);}
.btn-custom { background-color:white; color:#b71c1c; border-radius:25px; font-weight:600; padding:8px 18px; transition:all 0.3s ease; border:none;}
.btn-custom:hover { background-color:#ffe6e6; transform:scale(1.05); }

.hero { display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; padding:5rem 8%; background: linear-gradient(to right,#fff,#ffe6e6);}
.hero-text { flex:1; min-width:300px; padding-right:2rem;}
.hero-text h1 { color:#b71c1c; font-weight:700; margin-bottom:1rem; font-size:2.5rem; animation:fadeInLeft 1s ease;}
.hero-text p { font-size:1.1rem; margin-bottom:1.5rem; animation:fadeInLeft 1.2s ease;}
.hero-text button { background-color:#b71c1c; color:#fff; border:none; padding:0.8rem 1.8rem; font-size:1rem; border-radius:25px; cursor:pointer; transition:all 0.3s; animation:fadeInLeft 1.5s ease;}
.hero-text button:hover { background-color:#8b0000; transform:translateY(-2px);}
.hero-image { flex:1; text-align:center; animation:fadeInRight 1s ease;}
.hero-image img { width:100%; max-width:460px; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,0.2); transition:transform 0.6s ease;}
.hero-image img:hover { transform:scale(1.03);}
@keyframes fadeInLeft { from{opacity:0;transform:translateX(-40px);}to{opacity:1;transform:translateX(0);} }
@keyframes fadeInRight { from{opacity:0;transform:translateX(40px);}to{opacity:1;transform:translateX(0);} }

footer { background-color:#b71c1c; color:#fff; text-align:center; padding:1.2rem 0; margin-top:2rem;}
footer .social-icons i { color:white; margin:0 10px; font-size:1.5rem; cursor:pointer; transition:0.3s;}
footer .social-icons i:hover { color:#ffe6e6; transform:scale(1.2); }

.modal-content { border-radius:15px; border:none; animation:zoomIn 0.5s ease;}
@keyframes zoomIn { from{transform:scale(0.7);opacity:0;} to{transform:scale(1);opacity:1;} }
.tab-buttons { display:flex; justify-content:center; margin-bottom:1rem; }
.tab-buttons button { background:none; border:none; font-weight:600; color:#b71c1c; margin:0 15px; border-bottom:2px solid transparent; cursor:pointer; transition:0.3s;}
.tab-buttons button.active { border-bottom:2px solid #b71c1c; }
.tab-content input, #registerForm input, #registerForm select { margin-bottom:10px; border-radius:8px; border:1px solid #ccc; padding:10px; width:100%; }
.tab-content button, #registerForm button { width:100%; background-color:#b71c1c; border:none; color:#fff; padding:10px; border-radius:8px; transition:0.3s; font-weight:600;}
.tab-content button:hover, #registerForm button:hover { background-color:#8b0000; }

#error-user, #error-admin { color:red; font-weight:600; text-align:center; margin-bottom:10px; display:none;}
</style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark">
<div class="container">
  <a class="navbar-brand" href="#"><img src="https://cdn-icons-png.flaticon.com/512/1496/1496416.png" alt="Blood Drop">BloodLife</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <ul class="navbar-nav align-items-center">
      <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
      <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
      <li class="nav-item m-1"><button class="btn-custom" data-bs-toggle="modal" data-bs-target="#registerModal">Register</button></li>
      <li class="nav-item m-1"><button class="btn-custom" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button></li>
    </ul>
  </div>
</div>
</nav>

<!-- Hero Section -->
<section class="hero" id="home">
<div class="hero-text">
  <h1>Donate Blood, Save Lives</h1>
  <p>Join our mission to ensure no one suffers due to lack of blood. Become a hero today and make a life-saving impact.</p>
  <button data-bs-toggle="modal" data-bs-target="#registerModal">Become a Donor</button>
</div>
<div class="hero-image">
  <img src="https://img.freepik.com/free-vector/blood-donation-concept-illustration_114360-8941.jpg" alt="Blood Donation">
</div>
</section>

<!-- Registration Modal -->
<div class="modal fade" id="registerModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-4">
      <h4 class="text-center mb-3" style="color:#b71c1c;">Register</h4>
      <form id="registerForm" action="user" method="post">
        <input type="text" name="username" placeholder="Username" required>
        <input type="email" name="emailid" placeholder="Email" required>
        <input type="password" name="password" placeholder="Password" maxlength="10" required>
        <input type="text" name="mobilenumber" placeholder="Mobile Number" minlength="10" maxlength="10" required>
        <select name="gender" required>
          <option value="">Select Gender</option>
          <option>Male</option><option>Female</option><option>Other</option>
        </select>
        <input type="text" name="address" placeholder="Address" required>
        <button type="submit">Register</button>
      </form>
    </div>
  </div>
</div>

<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-4">
      <h4 class="text-center mb-3" style="color:#b71c1c;">Login</h4>
      <div class="tab-buttons">
        <button class="active" id="userTab">User</button>
        <button id="adminTab">Admin</button>
      </div>

      <div id="error-user">Invalid user credentials!</div>
      <div id="error-admin">Invalid admin credentials!</div>

      <div id="userForm" class="tab-content">
        <form action="userLoginValidation" method="post">
          <input type="text" name="emailid" placeholder="User Email" required>
          <input type="password" name="password" placeholder="Password" required>
          <button type="submit">Login as User</button>
        </form>
      </div>
      <div id="adminForm" class="tab-content" style="display:none;">
        <form action="adminLoginValidation" method="post">
          <input type="text" name="username" placeholder="Admin Username" required>
          <input type="password" name="password" placeholder="Password" required>
          <button type="submit">Login as Admin</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer>
<p>Â© 2025 BloodLife | All Rights Reserved</p>
<div class="social-icons mt-2">
  <i class="bi bi-whatsapp"></i>
  <i class="bi bi-instagram"></i>
  <i class="bi bi-telephone-fill"></i>
</div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
const userTab = document.getElementById("userTab");
const adminTab = document.getElementById("adminTab");
const userForm = document.getElementById("userForm");
const adminForm = document.getElementById("adminForm");
const errorUser = document.getElementById("error-user");
const errorAdmin = document.getElementById("error-admin");

// Toggle between tabs
userTab.addEventListener("click", () => {
  userTab.classList.add("active");
  adminTab.classList.remove("active");
  userForm.style.display = "block";
  adminForm.style.display = "none";
  errorUser.style.display = "none";
  errorAdmin.style.display = "none";
});

adminTab.addEventListener("click", () => {
  adminTab.classList.add("active");
  userTab.classList.remove("active");
  adminForm.style.display = "block";
  userForm.style.display = "none";
  errorUser.style.display = "none";
  errorAdmin.style.display = "none";
});

// Show modals based on URL parameters
window.addEventListener('DOMContentLoaded', () => {
  const params = new URLSearchParams(window.location.search);

  // After successful registration
  if (params.get('registered') === 'true') {
    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    loginModal.show();
  }

  if (params.get('error') === 'user') {
    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    loginModal.show();
    userTab.classList.add("active");
    adminTab.classList.remove("active");
    userForm.style.display = "block";
    adminForm.style.display = "none";
    errorUser.style.display = 'block';
  }

  if (params.get('error') === 'admin') {
    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    loginModal.show();
    adminTab.classList.add("active");
    userTab.classList.remove("active");
    adminForm.style.display = "block";
    userForm.style.display = "none";
    errorAdmin.style.display = 'block';
  }
});
</script>

</body>
</html>
